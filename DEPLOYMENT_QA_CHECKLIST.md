# üöÄ LISTA DE VERIFICACI√ìN QA - DESPLIEGUE EN THINKPAD

## ‚úÖ ESTADO ACTUAL DEL SISTEMA

### üéØ Correcciones Cr√≠ticas Implementadas
- [x] **Sistema de Pensiones**: Corregido el cobro incorrecto (ahora cobra monto completo por duraci√≥n seleccionada)
- [x] **Pantalla de Pago**: Corregida la redirecci√≥n autom√°tica (ahora muestra formulario de pago)
- [x] **Procesamiento de Pagos**: Corregido el crash con clientes inactivos
- [x] **Estabilidad Frontend**: Agregadas validaciones null y manejo de errores mejorado
- [x] **Soporte de Montos Grandes**: Verificado soporte para pensiones >$9,999 MXN

---

## üñ•Ô∏è FASE 0: PREPARACI√ìN INICIAL (DESDE MACBOOK VIA SSH)

### 0.1 Configuraci√≥n SSH en MacBook
```bash
# Generar clave SSH si no existe
[ ] ssh-keygen -t ed25519 -C "deployer@estacionamiento"

# Copiar clave p√∫blica al ThinkPad
[ ] ssh-copy-id parking@[IP_THINKPAD]

# Probar conexi√≥n SSH
[ ] ssh parking@[IP_THINKPAD] "whoami"
```

### 0.2 Clonar Repositorio en ThinkPad
```bash
# Conectar via SSH al ThinkPad
[ ] ssh parking@[IP_THINKPAD]

# Instalar git si no est√° presente
[ ] sudo apt update && sudo apt install -y git

# Crear directorio para el proyecto
[ ] mkdir -p /home/parking/deployments

# Clonar repositorio (reemplazar con URL real)
[ ] cd /home/parking/deployments
[ ] git clone https://github.com/[usuario]/parking-lot-management.git

# Verificar c√≥digo descargado
[ ] cd parking-lot-management
[ ] ls -la
[ ] git log --oneline -5
```

### 0.3 Transferir Archivos de Configuraci√≥n (si aplica)
```bash
# Desde MacBook - copiar archivos de configuraci√≥n sensibles
[ ] scp .env.production parking@[IP_THINKPAD]:/home/parking/deployments/parking-lot-management/.env
[ ] scp database-credentials.txt parking@[IP_THINKPAD]:/home/parking/deployments/parking-lot-management/

# Verificar archivos transferidos
[ ] ssh parking@[IP_THINKPAD] "ls -la /home/parking/deployments/parking-lot-management/"
```

### 0.4 Verificaci√≥n de Permisos y Estructura
```bash
# Via SSH en ThinkPad
[ ] cd /home/parking/deployments/parking-lot-management

# Verificar estructura del proyecto
[ ] ls -la src/
[ ] ls -la scripts/

# Dar permisos de ejecuci√≥n a scripts
[ ] chmod +x scripts/*.sh
[ ] chmod +x scripts/**/*.sh

# Verificar scripts de instalaci√≥n
[ ] ls -la scripts/install-all.sh
[ ] head -10 scripts/install-all.sh
```

---

## üìã FASE 1: PRE-INSTALACI√ìN (VIA SSH)

### 1.1 Verificaci√≥n de Hardware ThinkPad
- [ ] **Modelo**: Lenovo ThinkPad T480 o superior
- [ ] **RAM**: M√≠nimo 8GB instalados
- [ ] **Almacenamiento**: M√≠nimo 256GB SSD
- [ ] **Estado de Bater√≠a**: >80% de capacidad
- [ ] **Teclado y Trackpad**: Funcionando correctamente
- [ ] **Puertos USB**: M√≠nimo 2 puertos funcionales

### 1.2 Perif√©ricos Requeridos
- [ ] **Impresora T√©rmica**: Epson TM-T20III conectada y encendida
  - [ ] Cable Ethernet conectado
  - [ ] Papel t√©rmico 58mm instalado
  - [ ] LED de estado verde
- [ ] **Scanner de C√≥digos**: Honeywell Voyager 1250g
  - [ ] Cable USB conectado
  - [ ] Configurado en modo HID (teclado)
  - [ ] Probado con c√≥digo de barras de prueba

### 1.3 Configuraci√≥n de Red
- [ ] **IP Est√°tica del ThinkPad**: 192.168.1.50
- [ ] **IP de la Impresora**: 192.168.1.100
- [ ] **Gateway**: 192.168.1.1
- [ ] **DNS**: 8.8.8.8, 8.8.4.4
- [ ] **Conexi√≥n a Internet**: Verificada con `ping google.com`

---

## üì¶ FASE 2: INSTALACI√ìN DEL SISTEMA (VIA SSH)

### 2.1 Preparaci√≥n
```bash
# Via SSH - navegar al directorio del proyecto
[ ] ssh parking@[IP_THINKPAD]
[ ] cd /home/parking/deployments/parking-lot-management

# Verificar scripts de instalaci√≥n
[ ] ls -la scripts/install-all.sh
[ ] ls -la scripts/setup/
[ ] ls -la scripts/deploy/

# Asegurar permisos de ejecuci√≥n
[ ] chmod +x scripts/install-all.sh
[ ] find scripts/ -name "*.sh" -exec chmod +x {} \;
```

### 2.2 Instalaci√≥n de Dependencias Base
```bash
# Actualizar sistema operativo
[ ] sudo apt update && sudo apt upgrade -y

# Instalar herramientas b√°sicas
[ ] sudo apt install -y curl wget git build-essential software-properties-common

# Verificar espacio en disco (m√≠nimo 10GB)
[ ] df -h /
```

### 2.3 Ejecuci√≥n de Instalaci√≥n Completa
```bash
# Ejecutar instalaci√≥n completa (45-90 minutos)
# IMPORTANTE: Mantener sesi√≥n SSH activa con screen/tmux
[ ] sudo apt install -y screen
[ ] screen -S deployment

# Dentro de screen:
[ ] cd /home/parking/deployments/parking-lot-management
[ ] sudo ./scripts/install-all.sh production

# Para salir de screen sin detener: Ctrl+A, D
# Para reconectar: screen -r deployment
```

### 2.4 Monitoreo de Instalaci√≥n desde MacBook
```bash
# Desde MacBook - monitorear logs de instalaci√≥n
[ ] ssh parking@[IP_THINKPAD] "tail -f /var/log/parking-installation-*.log"

# O reconectar a screen para ver progreso
[ ] ssh parking@[IP_THINKPAD]
[ ] screen -r deployment
```

### 2.3 Verificaci√≥n Post-Instalaci√≥n
- [ ] Sistema operativo actualizado
- [ ] PostgreSQL instalado y ejecut√°ndose
- [ ] Node.js v18+ instalado
- [ ] PM2 instalado globalmente
- [ ] Nginx configurado y ejecut√°ndose
- [ ] Modo kiosko configurado

---

## üîß FASE 3: CONFIGURACI√ìN DE LA APLICACI√ìN (VIA SSH)

### 3.1 Verificar Instalaci√≥n Completada
```bash
# Via SSH - verificar estado final de instalaci√≥n
[ ] ssh parking@[IP_THINKPAD]
[ ] cat /opt/parking-installation-status.txt

# Verificar que todas las fases se completaron
[ ] grep "Estado: EXITOSO" /opt/parking-installation-status.txt
```

### 3.2 Configuraci√≥n de Base de Datos
```bash
# Verificar PostgreSQL activo
[ ] sudo systemctl status postgresql

# Verificar conexi√≥n a PostgreSQL
[ ] sudo -u postgres psql -c "SELECT version();"

# Verificar base de datos creada
[ ] sudo -u postgres psql -l | grep parking_lot_prod

# Navegar al directorio de la aplicaci√≥n
[ ] cd /opt/parking-system

# Verificar esquema con Prisma (si aplicable)
[ ] npx prisma db status || echo "Prisma no configurado - usando SQL directo"
```

### 3.3 Configuraci√≥n de Entorno
```bash
# Verificar archivo .env generado por instalaci√≥n
[ ] cat /opt/parking-system/.env

# Variables cr√≠ticas a verificar:
[ ] grep "DATABASE_URL" /opt/parking-system/.env
[ ] grep "NODE_ENV=production" /opt/parking-system/.env
[ ] grep "PRINTER_IP=192.168.1.100" /opt/parking-system/.env
[ ] grep "JWT_SECRET" /opt/parking-system/.env

# Si falta alguna variable, agregarla:
[ ] echo "MISSING_VAR=value" >> /opt/parking-system/.env
```

### 3.4 Inicializaci√≥n de Datos
```bash
# El script de instalaci√≥n deber√≠a haber creado datos iniciales
# Verificar datos en la base de datos:

[ ] sudo -u postgres psql parking_lot_prod -c "SELECT * FROM pricing_config;"
[ ] sudo -u postgres psql parking_lot_prod -c "SELECT username, role FROM system_users;"
[ ] sudo -u postgres psql parking_lot_prod -c "SELECT * FROM cash_register;"

# Si no hay datos, ejecutar seed manualmente:
[ ] cd /home/parking/deployments/parking-lot-management
[ ] npm run db:seed
```

### 3.5 Copiar C√≥digo de Aplicaci√≥n Actual
```bash
# Copiar c√≥digo m√°s reciente sobre la instalaci√≥n base
[ ] cd /home/parking/deployments/parking-lot-management

# Hacer backup de la aplicaci√≥n instalada
[ ] sudo cp -r /opt/parking-system /opt/parking-system.backup

# Copiar archivos actualizados
[ ] sudo cp -r src/* /opt/parking-system/src/ 2>/dev/null || true
[ ] sudo cp package*.json /opt/parking-system/
[ ] sudo cp -r prisma/ /opt/parking-system/ 2>/dev/null || true

# Preservar configuraci√≥n
[ ] sudo cp /opt/parking-system.backup/.env /opt/parking-system/.env

# Instalar dependencias actualizadas
[ ] cd /opt/parking-system
[ ] sudo npm install

# Construir aplicaci√≥n
[ ] sudo npm run build || echo "Build no disponible - usando c√≥digo directo"

# Corregir permisos
[ ] sudo chown -R parking:parking /opt/parking-system
```

---

## üñ•Ô∏è FASE 4: VERIFICACI√ìN DE MODO KIOSKO

### 4.1 Configuraci√≥n de Usuario
- [ ] Usuario `parking` creado sin privilegios sudo
- [ ] Contrase√±a establecida: `ParkingKiosk2024!`
- [ ] Inicio de sesi√≥n autom√°tico configurado

### 4.2 Interfaz de Kiosko
- [ ] Chromium abre autom√°ticamente en pantalla completa
- [ ] URL correcta: `http://localhost:3001`
- [ ] Sin barra de direcciones visible
- [ ] Sin men√∫s del navegador
- [ ] Alt+F4 deshabilitado

### 4.3 Restricciones de Seguridad
- [ ] Ctrl+Alt+F1-F7 deshabilitado
- [ ] Acceso a terminal bloqueado
- [ ] USB storage deshabilitado
- [ ] Firewall UFW activo

---

## üöÄ FASE 5: INICIO DE SERVICIOS (VIA SSH)

### 5.1 Iniciar Servicios del Sistema
```bash
# Iniciar servicio principal de estacionamiento
[ ] sudo systemctl start parking-system
[ ] sudo systemctl enable parking-system

# Verificar estado de servicios
[ ] sudo systemctl status parking-system
[ ] sudo systemctl status postgresql
[ ] sudo systemctl status nginx

# Ver logs de inicio
[ ] sudo journalctl -u parking-system -f --lines 50
```

### 5.2 Verificar Acceso Web
```bash
# Probar acceso local en ThinkPad
[ ] curl -I http://localhost:3000/health
[ ] curl -I http://localhost/

# Desde MacBook - probar acceso remoto
[ ] curl -I http://[IP_THINKPAD]/
[ ] curl -I http://[IP_THINKPAD]/health
```

---

## üß™ FASE 6: PRUEBAS FUNCIONALES (ACCESO WEB)

### 6.1 Acceso a la Aplicaci√≥n
```bash
# Desde MacBook - abrir navegador
[ ] open http://[IP_THINKPAD]

# O usar SSH tunnel para acceso seguro
[ ] ssh -L 8080:[IP_THINKPAD]:80 parking@[IP_THINKPAD]
[ ] open http://localhost:8080
```

### 6.2 Flujo de Entrada de Veh√≠culo
1. [ ] Pantalla principal del operador carga correctamente
2. [ ] Presionar "ENTRADA" funciona
3. [ ] Ingresar placa "TEST-001"
4. [ ] Boleto se crea exitosamente
5. [ ] **Verificar en logs**: `ssh parking@[IP_THINKPAD] "tail -f /var/log/parking-system/*.log"`

### 6.3 Flujo de Salida y Pago
1. [ ] Usar c√≥digo de barras del boleto creado
2. [ ] Sistema calcula tarifa correctamente
3. [ ] Ingresar monto de pago
4. [ ] Cambio se calcula correctamente
5. [ ] Pago se procesa sin errores

### 6.4 Sistema de Pensiones (CR√çTICO - NUEVAS CORRECCIONES)
**PRUEBA CR√çTICA - Verificar correcciones implementadas:**

1. [ ] Registrar nuevo cliente de pensi√≥n:
   - [ ] Nombre: "Cliente Prueba SSH"
   - [ ] Placa: "PENS-SSH1"
   - [ ] Duraci√≥n: **3 meses**
   - [ ] **VERIFICAR**: Muestra total **$2,400 MXN** (3 √ó $800)
   
2. [ ] Sistema navega a pantalla de pago:
   - [ ] **VERIFICAR**: NO hay redirecci√≥n autom√°tica
   - [ ] Pantalla de pago permanece abierta
   - [ ] Muestra monto correcto: $2,400 MXN
   
3. [ ] Procesar pago inicial:
   - [ ] Ingresar $2,400 MXN
   - [ ] **VERIFICAR**: Pago se procesa sin crashes
   - [ ] Cliente se activa correctamente
   - [ ] **Verificar en BD**: `ssh parking@[IP_THINKPAD] "sudo -u postgres psql parking_lot_prod -c \"SELECT name, monthly_rate, start_date, end_date, is_active FROM pension_customers WHERE plate_number='PENS-SSH1';\";"`

### 6.5 Pruebas de Monto Alto (>$9,999)
1. [ ] Registrar pensi√≥n de 15 meses: $12,000 MXN
2. [ ] **VERIFICAR**: Sistema maneja monto sin errores
3. [ ] **VERIFICAR**: Formatting correcto en pantalla

### 6.6 Boleto Perdido
1. [ ] Seleccionar "Boleto Perdido"
2. [ ] Verificar tarifa: $100 MXN (configuraci√≥n actual)
3. [ ] Procesar pago
4. [ ] **Verificar en logs**: transacci√≥n registrada correctamente

---

## üîå FASE 7: INTEGRACI√ìN DE HARDWARE (VIA SSH)

### 7.1 Impresora T√©rmica - Pruebas Remotas
```bash
# Via SSH - probar conectividad de impresora
[ ] ssh parking@[IP_THINKPAD] "ping -c 3 192.168.1.100"

# Probar puerto de impresi√≥n
[ ] ssh parking@[IP_THINKPAD] "nc -zv 192.168.1.100 9100"

# Prueba de impresi√≥n directa
[ ] ssh parking@[IP_THINKPAD] "echo 'PRUEBA SSH DEPLOYMENT' | nc 192.168.1.100 9100"

# Verificar API de hardware
[ ] ssh parking@[IP_THINKPAD] "curl -s http://localhost/api/hardware/status | jq ." || ssh parking@[IP_THINKPAD] "curl -s http://localhost/api/hardware/status"
```

### 7.2 Scanner de C√≥digos - Configuraci√≥n Remota
```bash
# Verificar dispositivos USB conectados
[ ] ssh parking@[IP_THINKPAD] "lsusb | grep -i honeywell"

# Verificar configuraci√≥n HID
[ ] ssh parking@[IP_THINKPAD] "ls -la /dev/input/by-id/ | grep -i honeywell"

# Prueba de scanner con aplicaci√≥n
# (Requiere acceso f√≠sico al ThinkPad para escanear c√≥digo)
```

### 7.3 Pruebas de Hardware Integradas
```bash
# Desde la aplicaci√≥n web - realizar prueba completa:
# 1. Crear boleto con impresi√≥n
# 2. Escanear c√≥digo de barras generado
# 3. Verificar flujo completo

# Monitorear logs durante pruebas de hardware
[ ] ssh parking@[IP_THINKPAD] "tail -f /var/log/parking-system/*.log | grep -i 'printer\|scanner\|barcode'"
```

---

## üõ°Ô∏è FASE 8: SEGURIDAD Y RESPALDOS (VIA SSH)

### 8.1 Verificaci√≥n de Seguridad
```bash
# Verificar firewall UFW
[ ] ssh parking@[IP_THINKPAD] "sudo ufw status verbose"

# Verificar reglas de firewall
[ ] ssh parking@[IP_THINKPAD] "sudo ufw status numbered"

# Verificar SSH configurado correctamente
[ ] ssh parking@[IP_THINKPAD] "sudo systemctl status ssh"

# Verificar fail2ban (si est√° instalado)
[ ] ssh parking@[IP_THINKPAD] "sudo systemctl status fail2ban" || echo "fail2ban no instalado"

# Verificar usuarios del sistema
[ ] ssh parking@[IP_THINKPAD] "getent passwd | grep -E '(parking|admin)'"
```

### 8.2 Configuraci√≥n de Respaldos
```bash
# Verificar script de respaldo
[ ] ssh parking@[IP_THINKPAD] "ls -la /opt/parking-backup.sh"

# Verificar configuraci√≥n de cron
[ ] ssh parking@[IP_THINKPAD] "sudo crontab -l | grep backup"

# Ejecutar respaldo manual de prueba
[ ] ssh parking@[IP_THINKPAD] "sudo /opt/parking-backup.sh"

# Verificar que se cre√≥ el respaldo
[ ] ssh parking@[IP_THINKPAD] "ls -la /var/backups/parking/ | tail -5"
```

### 8.3 Configuraci√≥n de Actualizaciones
```bash
# Verificar actualizaciones autom√°ticas
[ ] ssh parking@[IP_THINKPAD] "sudo apt list --upgradable"

# Configurar actualizaciones autom√°ticas de seguridad
[ ] ssh parking@[IP_THINKPAD] "sudo dpkg-reconfigure -plow unattended-upgrades"
```

---

## üìä FASE 9: MONITOREO Y LOGS (VIA SSH)

### 9.1 Verificaci√≥n de Servicios Activos
```bash
# Verificar todos los servicios cr√≠ticos
[ ] ssh parking@[IP_THINKPAD] "sudo systemctl status postgresql"
[ ] ssh parking@[IP_THINKPAD] "sudo systemctl status nginx"
[ ] ssh parking@[IP_THINKPAD] "sudo systemctl status parking-system"

# Si hay PM2 configurado
[ ] ssh parking@[IP_THINKPAD] "pm2 status" || echo "PM2 no configurado"

# Verificar puertos en uso
[ ] ssh parking@[IP_THINKPAD] "sudo netstat -tlnp | grep -E ':(80|443|3000|5432)'"
```

### 9.2 An√°lisis de Logs
```bash
# Logs del sistema
[ ] ssh parking@[IP_THINKPAD] "sudo journalctl -u parking-system --lines 50 --no-pager"

# Logs de nginx
[ ] ssh parking@[IP_THINKPAD] "sudo tail -50 /var/log/nginx/access.log"
[ ] ssh parking@[IP_THINKPAD] "sudo tail -50 /var/log/nginx/error.log"

# Logs de la aplicaci√≥n
[ ] ssh parking@[IP_THINKPAD] "sudo tail -50 /var/log/parking-system/*.log" || echo "Logs de aplicaci√≥n no encontrados"

# Verificar errores cr√≠ticos
[ ] ssh parking@[IP_THINKPAD] "sudo journalctl --priority=err --since today"
```

### 9.3 Monitoreo de Recursos
```bash
# Uso de CPU y memoria
[ ] ssh parking@[IP_THINKPAD] "top -b -n 1 | head -20"

# Espacio en disco
[ ] ssh parking@[IP_THINKPAD] "df -h"

# Procesos de la aplicaci√≥n
[ ] ssh parking@[IP_THINKPAD] "ps aux | grep -E '(node|postgres|nginx)'"
```

### 9.4 Script de Verificaci√≥n Automatizada
```bash
# Ejecutar script de verificaci√≥n completa
[ ] ssh parking@[IP_THINKPAD] "sudo /home/parking/deployments/parking-lot-management/scripts/verify-deployment.sh"

# Revisar resultados
[ ] ssh parking@[IP_THINKPAD] "echo 'Script de verificaci√≥n completado con c√≥digo de salida: $?'"
```

---

## üö® FASE 10: PLAN DE CONTINGENCIA Y DOCUMENTACI√ìN

### 10.1 Configurar Acceso Remoto de Emergencia
```bash
# Configurar VPN/t√∫nel SSH para acceso remoto
[ ] ssh parking@[IP_THINKPAD] "sudo ufw allow from [IP_MACBOOK] to any port 22"

# Crear usuario de emergencia
[ ] ssh parking@[IP_THINKPAD] "sudo useradd -m -s /bin/bash emergency-admin"
[ ] ssh parking@[IP_THINKPAD] "sudo usermod -aG sudo emergency-admin"

# Configurar autologin para emergencias
[ ] ssh parking@[IP_THINKPAD] "sudo systemctl disable ssh" || echo "SSH mantenido activo para soporte"
```

### 10.2 Documentaci√≥n de Credenciales
```bash
# Descargar informaci√≥n cr√≠tica al MacBook
[ ] scp parking@[IP_THINKPAD]:/opt/parking-installation-status.txt ./deployment-status-$(date +%Y%m%d).txt
[ ] scp parking@[IP_THINKPAD]:/opt/parking-setup-status.txt ./setup-status-$(date +%Y%m%d).txt

# Crear archivo de credenciales locales (NO subir a git)
[ ] cat > ./CREDENTIALS-THINKPAD.txt << EOF
# CREDENCIALES THINKPAD ESTACIONAMIENTO
# GENERADO: $(date)
# IP THINKPAD: [IP_THINKPAD]

# Sistema Operativo
Usuario Operador: parking
Usuario Admin: emergency-admin

# Base de Datos
URL: postgresql://parking_user:PASSWORD@localhost:5432/parking_lot_prod
Usuario BD: parking_user

# Aplicaci√≥n Web
URL: http://[IP_THINKPAD]/
Usuario Admin: admin
Password: admin123 (CAMBIAR INMEDIATAMENTE)

# SSH desde MacBook
ssh parking@[IP_THINKPAD]
ssh emergency-admin@[IP_THINKPAD]

# Comandos √ötiles
Logs: sudo journalctl -u parking-system -f
Restart: sudo systemctl restart parking-system
Status: sudo systemctl status parking-system
Backup: sudo /opt/parking-backup.sh

EOF
```

### 10.3 N√∫meros de Contacto
- [ ] Soporte t√©cnico: ________________
- [ ] Administrador del sistema: ________________
- [ ] Proveedor de Internet: ________________
- [ ] **SSH desde MacBook**: ssh parking@[IP_THINKPAD]

---

## ‚úÖ FASE 11: ENTREGA FINAL Y CAPACITACI√ìN

### 11.1 Capacitaci√≥n Remota del Operador
```bash
# Establecer sesi√≥n compartida para capacitaci√≥n
[ ] ssh parking@[IP_THINKPAD]
[ ] # Navegar junto con operador por la interfaz web

# Capacitaci√≥n v√≠a navegador desde MacBook
[ ] open http://[IP_THINKPAD]
```

**Procedimientos a demostrar:**
- [ ] Entrada de veh√≠culo: placa ‚Üí imprimir boleto
- [ ] Salida y pago: escanear ‚Üí calcular ‚Üí cobrar ‚Üí recibo
- [ ] **Sistema de pensiones**: registro ‚Üí duraci√≥n ‚Üí pago completo
- [ ] Boleto perdido: tarifa especial ‚Üí recibo
- [ ] Cerrar turno: verificar caja

### 11.2 Documentaci√≥n Entregada (Digital)
```bash
# Descargar documentaci√≥n al MacBook
[ ] scp parking@[IP_THINKPAD]:/home/parking/deployments/parking-lot-management/TROUBLESHOOTING_GUIDE.md ./
[ ] scp parking@[IP_THINKPAD]:/home/parking/deployments/parking-lot-management/DEPLOYMENT_QA_CHECKLIST.md ./

# Crear manual de operador simplificado
[ ] cat > MANUAL_OPERADOR_RAPIDO.md << 'EOF'
# MANUAL R√ÅPIDO - OPERADOR ESTACIONAMIENTO

## INICIO DIARIO
1. Verificar que sistema est√© encendido
2. URL: http://localhost (debe abrir autom√°ticamente)

## ENTRADA VEH√çCULO
1. Clic "ENTRADA"
2. Escribir placa
3. Clic "GENERAR BOLETO"
4. Entregar boleto al cliente

## SALIDA Y PAGO
1. Escanear c√≥digo del boleto
2. Sistema calcula tarifa
3. Ingresar dinero recibido
4. Entregar cambio y recibo

## PENSI√ìN
1. Clic "PENSI√ìN"
2. Llenar datos del cliente
3. Seleccionar duraci√≥n (meses)
4. VERIFICAR monto total correcto
5. Procesar pago
6. Entregar recibo

## EMERGENCIAS
- Si falla sistema: Anotar placas en papel
- Soporte: ssh parking@[IP_THINKPAD]
- Reiniciar: sudo systemctl restart parking-system

EOF
```

### 11.3 Verificaci√≥n Final Completa
```bash
# Ejecutar verificaci√≥n automatizada final
[ ] ssh parking@[IP_THINKPAD] "/home/parking/deployments/parking-lot-management/scripts/verify-deployment.sh"

# Verificar que todo funciona sin intervenci√≥n
[ ] curl -I http://[IP_THINKPAD]/health

# Test final del sistema de pensiones
[ ] echo "Realizar prueba manual de pensi√≥n 6 meses: debe cobrar 6 √ó 800 = 4800 MXN"
```

**Criterios de Aceptaci√≥n Final:**
- [ ] Sistema funcionando 30 min sin errores
- [ ] Operador completa flujos sin asistencia
- [ ] **Pensiones cobra monto correcto por duraci√≥n**
- [ ] Hardware impresora/scanner operativo
- [ ] Acceso SSH desde MacBook funcionando
- [ ] Respaldos autom√°ticos configurados
- [ ] Documentaci√≥n completa entregada

---

## üìù NOTAS IMPORTANTES PARA DESPLIEGUE VIA SSH

1. **Tiempo estimado total**: 3-4 horas incluyendo capacitaci√≥n remota
2. **Horario recomendado**: Realizar fuera de horas pico
3. **Personal requerido**: 1 t√©cnico remoto (MacBook) + 1 operador local (ThinkPad)
4. **Conexi√≥n SSH**: Mantener conexi√≥n estable durante todo el proceso
5. **Respaldo previo**: Siempre respaldar datos existentes antes de actualizar
6. **Screen/tmux**: Usar para evitar p√©rdida de sesi√≥n durante instalaci√≥n larga

## üéØ CRITERIOS DE √âXITO ESPEC√çFICOS

‚úÖ **Sistema de pensiones**: Cobra correctamente por duraci√≥n seleccionada (ej: 3 meses = $2,400 MXN)  
‚úÖ **Acceso SSH estable**: Conexi√≥n desde MacBook sin interrupciones  
‚úÖ **Interfaz web accesible**: http://[IP_THINKPAD] responde correctamente  
‚úÖ **Hardware funcional**: Impresora y scanner integrados correctamente  
‚úÖ **Verificaci√≥n automatizada**: Script verify-deployment.sh ejecuta sin errores  
‚úÖ **Capacitaci√≥n remota completada**: Operador maneja sistema independientemente  
‚úÖ **Documentaci√≥n descargada**: Manuales y gu√≠as disponibles en MacBook  

## üîÑ COMANDOS R√ÅPIDOS DE EMERGENCIA

```bash
# Desde MacBook - Diagn√≥stico r√°pido
ssh parking@[IP_THINKPAD] "sudo systemctl status parking-system"
ssh parking@[IP_THINKPAD] "curl -I http://localhost/health"
ssh parking@[IP_THINKPAD] "sudo journalctl -u parking-system --lines 20"

# Reinicio de emergencia
ssh parking@[IP_THINKPAD] "sudo systemctl restart parking-system"

# Ver logs en tiempo real
ssh parking@[IP_THINKPAD] "sudo journalctl -u parking-system -f"

# Verificaci√≥n completa automatizada
ssh parking@[IP_THINKPAD] "/home/parking/deployments/parking-lot-management/scripts/verify-deployment.sh"
```

---

**Fecha de Despliegue**: _______________  
**T√©cnico Responsable (MacBook)**: _______________  
**Operador Local (ThinkPad)**: _______________  
**IP ThinkPad**: _______________  
**Verificaci√≥n SSH Exitosa**: [ ] ‚úÖ  
**Sistema de Pensiones Validado**: [ ] ‚úÖ  
**Firma de Conformidad**: _______________